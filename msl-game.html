<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MSL Games ‚Äì SMCM MSL</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" type="image/png" href="logo-1.png" />

  <!-- Mini-game specific styles -->
  <style>
    .game-wrapper {
      max-width: 900px;
      margin: 0 auto;
    }

    .game-card {
      margin-top: 1.5rem;
      padding: 1.5rem 1.75rem;
      border-radius: 16px;
      background: rgba(12, 22, 38, 0.9);
      color: #fff;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.3);
    }

    body:not(.dark) .game-card {
      background: #ffffff;
      color: #111827;
      box-shadow: 0 14px 32px rgba(15, 23, 42, 0.14);
    }

    .game-meta {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      font-size: 0.85rem;
      opacity: 0.85;
      margin-bottom: 0.4rem;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .game-question {
      font-size: 1.15rem;
      font-weight: 600;
      margin: 0.4rem 0 1rem;
    }

    .game-choices {
      display: grid;
      gap: 0.6rem;
      margin-bottom: 1rem;
    }

    .game-choice-btn {
      width: 100%;
      text-align: left;
      padding: 0.65rem 0.75rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.82);
      color: #e5e7eb;
      font-size: 0.95rem;
      cursor: pointer;
      transition: background 0.15s ease, border-color 0.15s ease, transform 0.08s ease;
    }

    body:not(.dark) .game-choice-btn {
      background: #f9fafb;
      color: #111827;
    }

    .game-choice-btn:hover {
      transform: translateY(-1px);
      border-color: #facc15;
    }

    .game-choice-btn.correct {
      background: #16a34a;
      border-color: #bbf7d0;
      color: #052e16;
    }

    .game-choice-btn.incorrect {
      background: #b91c1c;
      border-color: #fecaca;
      color: #fef2f2;
    }

    .game-feedback {
      font-size: 0.9rem;
      margin-bottom: 0.8rem;
    }

    .game-feedback strong {
      font-weight: 700;
    }

    .game-controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .game-progress {
      font-size: 0.85rem;
      opacity: 0.85;
    }

    .btn-ghost-small {
      border-radius: 999px;
      padding: 0.45rem 0.9rem;
      font-size: 0.85rem;
    }

    .game-result-card {
      margin-top: 1.5rem;
      padding: 1.5rem 1.75rem;
      border-radius: 16px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: rgba(15, 23, 42, 0.95);
      color: #f9fafb;
    }

    body:not(.dark) .game-result-card {
      background: #ffffff;
      color: #0f172a;
    }

    .game-result-score {
      font-size: 1.1rem;
      font-weight: 700;
      margin-bottom: 0.35rem;
    }

    .game-result-sub {
      font-size: 0.9rem;
      margin-bottom: 0.6rem;
    }

    .game-tagline {
      font-size: 0.85rem;
      opacity: 0.9;
    }

    .game-easter-egg {
      margin-top: 0.9rem;
      padding: 0.9rem 1rem;
      border-radius: 12px;
      border: 1px dashed rgba(234, 179, 8, 0.7);
      background: rgba(250, 204, 21, 0.04);
      font-size: 0.9rem;
    }

    .game-easter-egg a {
      text-decoration: underline;
      font-weight: 600;
    }

    /* Bill Concept Lab styles */
    .bill-lab-form {
      display: grid;
      gap: 0.9rem;
      margin-top: 0.75rem;
    }

    .bill-lab-form label {
      font-size: 0.9rem;
      font-weight: 500;
      display: block;
    }

    .bill-lab-form select,
    .bill-lab-form input,
    .bill-lab-form textarea {
      width: 100%;
      margin-top: 0.25rem;
      padding: 0.5rem 0.6rem;
      border-radius: 10px;
      border: 1px solid rgba(148, 163, 184, 0.9);
      font-size: 0.9rem;
      font-family: inherit;
    }

    .bill-lab-output {
      margin-top: 1.1rem;
      padding: 1rem 1.1rem;
      border-radius: 14px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.9);
      color: #f9fafb;
      font-size: 0.92rem;
      white-space: pre-line;
    }

    body:not(.dark) .bill-lab-output {
      background: #f9fafb;
      color: #0f172a;
    }

    .bill-lab-output h3 {
      margin-top: 0;
      margin-bottom: 0.3rem;
      font-size: 1rem;
      font-weight: 700;
    }

    .bill-lab-meta {
      font-size: 0.8rem;
      opacity: 0.9;
      margin-bottom: 0.5rem;
    }

    @media (max-width: 640px) {
      .game-card, .game-result-card {
        padding: 1.1rem 1.15rem;
      }
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="inner">
      <a href="index.html#hero" class="brand">
        <span class="brand-mark brand-mark-logo">
          <img src="logo-1.png" alt="SMCM MSL logo" />
        </span>
        <span class="brand-text">
          <span class="brand-title">Maryland Student Legislature</span>
          <span class="brand-sub">St. Mary‚Äôs College of Maryland Chapter</span>
        </span>
      </a>
      <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">‚ò∞</button>
      <nav class="nav" id="mainNav">
        <a href="index.html#hero">Home</a>
        <a href="index.html#maryland">About MSL</a>
        <a href="index.html#chapter">Our Chapter</a>
        <a href="executive-board.html">Exec Board</a>
        <a href="index.html#journey">Your Journey</a>
        <a href="index.html#documents">Documents</a>
        <a href="resources.html">Resources</a>
        <a href="bulletin.html">Bulletin</a>
        <a href="msl-game.html">Game</a>
        <a href="msl-giving.html">GIVING TUESDAY CHAMPIONSHIP</a>
        <a href="index.html#gallery">Gallery</a>
        <a href="index.html#contact">Join Us</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- GAME 1: PARLIAMENTARY PRO QUIZ -->
    <section class="section">
      <div class="inner game-wrapper">
        <div class="section-header center">
          <p class="eyebrow">Practice the Rules Before You Hit the Floor</p>
          <h1>Parliamentary Pro Lightning Round</h1>
          <p class="section-body">
            Test your knowledge of motions, floor procedure, and session vibes in a quick-fire quiz.
            Great for new delegates, petty bragging rights for veterans.
          </p>
        </div>

        <div class="card game-card" id="gameCard">
          <div class="game-meta">
            <span id="gameStatus">Question 1</span>
            <span id="gameScore">Score: 0</span>
          </div>
          <div class="game-question" id="gameQuestion">
            Loading question‚Ä¶
          </div>
          <div class="game-choices" id="gameChoices">
            <!-- buttons injected by JS -->
          </div>
          <div class="game-feedback" id="gameFeedback"></div>
          <div class="game-controls">
            <button id="nextBtn" class="btn btn-primary btn-ghost-small" disabled>
              Next question ‚Üí
            </button>
            <button id="restartBtn" class="btn btn-ghost btn-ghost-small" style="display:none;">
              Play again
            </button>
            <span class="game-progress" id="gameProgress"></span>
          </div>
        </div>

        <div id="gameResult" class="game-result-card" style="display:none;">
          <div class="game-result-score" id="resultScore"></div>
          <div class="game-result-sub" id="resultMessage"></div>
          <p class="game-tagline">
            Want to put this to use? Grab a bill idea, hit a workshop, and try this again after session.
          </p>

          <!-- Secret reward: all correct -->
          <div id="easterAllCorrect" class="game-easter-egg" style="display:none;">
            <strong>Perfect run.</strong> You unlocked the secret link ‚Äî clearly you read the rules.
            <br />
            üëâ <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank">Click for your ‚Äútotally serious‚Äù reward</a>
            <br />
            <span style="font-size:0.8rem; opacity:0.8;">
              (Feel free to swap this URL for any video or page you want.)
            </span>
          </div>

          <!-- Secret reward: zero correct -->
          <div id="easterAllWrong" class="game-easter-egg" style="display:none;">
            <strong>0/?? is a talent in itself.</strong> You also unlocked a secret link. Time to study‚Ä¶ or double down.
            <br />
            üëâ <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank">Consolation ‚Äútraining montage‚Äù</a>
          </div>

          <button id="resultRestartBtn" class="btn btn-primary btn-ghost-small" style="margin-top:0.75rem;">
            Run the lightning round again
          </button>
        </div>
      </div>
    </section>

    <!-- GAME 2: BILL CONCEPT LAB -->
    <section class="section bg-alt">
      <div class="inner game-wrapper">
        <div class="section-header center">
          <p class="eyebrow">Turn Vibes Into Draft Ideas</p>
          <h2>Bill Concept Lab</h2>
          <p class="section-body">
            Not sure what to write your first bill on? Answer a few quick questions and we‚Äôll spit out
            a rough bill concept you can refine with the Drafting Manual and your Exec Board.
          </p>
        </div>

        <div class="card game-card" id="billLabCard">
          <form id="billLabForm" class="bill-lab-form">
            <div>
              <label for="policyArea">What policy area are you drawn to?</label>
              <select id="policyArea" required>
                <option value="">Select a policy area‚Ä¶</option>
                <option value="environmental protection">Environment & Chesapeake Bay</option>
                <option value="education policy">Education & Higher Ed</option>
                <option value="public transportation and infrastructure">Transportation & Infrastructure</option>
                <option value="civil rights and liberties">Civil Rights & Civil Liberties</option>
                <option value="public health and safety">Public Health & Safety</option>
                <option value="housing and economic opportunity">Housing & Economic Opportunity</option>
              </select>
            </div>

            <div>
              <label for="changeLevel">What scale of change are you thinking?</label>
              <select id="changeLevel" required>
                <option value="">Choose one‚Ä¶</option>
                <option value="a targeted fix to an existing statute">Small, precise fix</option>
                <option value="a major reform to current practice">Major reform</option>
                <option value="a pilot program to test a new idea">Pilot program</option>
                <option value="a resolution to send a strong message">Symbolic resolution</option>
              </select>
            </div>

            <div>
              <label for="impactType">What kind of impact do you want?</label>
              <select id="impactType" required>
                <option value="">Pick your impact‚Ä¶</option>
                <option value="direct services or aid to Maryland residents">Direct aid / services</option>
                <option value="new standards or regulations for agencies or businesses">Regulation / standards</option>
                <option value="financial incentives or grants for local actors">Incentives / grants</option>
                <option value="statewide awareness, education, or data collection">Awareness / data</option>
              </select>
            </div>

            <div>
              <label for="issueText">What specific Maryland issue or community are you thinking about? (optional but powerful)</label>
              <textarea
                id="issueText"
                rows="3"
                placeholder="Example: runoff into the St. Mary‚Äôs River, broadband access in rural counties, transportation for community college students‚Ä¶"
              ></textarea>
            </div>

            <button type="submit" class="btn btn-primary btn-ghost-small">
              Generate Bill Concept
            </button>
          </form>

          <div id="billLabOutput" class="bill-lab-output" style="display:none;">
            <div class="bill-lab-meta" id="billLabMeta"></div>
            <h3 id="billLabTitle"></h3>
            <p id="billLabSummary"></p>
            <p class="small" style="margin-top:0.7rem;">
              Next steps: check the <a href="Legislative-Drafting-Manual.pdf" target="_blank">Drafting Manual (PDF)</a>,
              talk to the Exec Board, and refine this into real bill sections.
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="inner footer-inner">
      <p>¬© <span id="year"></span> Maryland Student Legislature ‚Äì St. Mary‚Äôs College of Maryland Chapter.</p>
      <p class="small">
        Student-led, nonpartisan, and rooted in Maryland‚Äôs civic life. This site is maintained by the SMCM
        Maryland Student Legislature Chapter and is not an official publication of St. Mary‚Äôs College of
        Maryland or the State of Maryland.
      </p>
    </div>
  </footer>

  <script src="script.js"></script>

  <!-- Mini-game logic -->
  <script>
    // ---------- GAME 1: PARLIAMENTARY PRO QUIZ ----------
    const questions = [
      {
        question: "In a mock legislative session, what is the purpose of a motion for the Previous Question?",
        choices: [
          "To postpone a bill indefinitely",
          "To end debate and move immediately to a vote",
          "To send the bill back to committee",
          "To challenge the ruling of the chair"
        ],
        correctIndex: 1,
        explanation: "A motion for the Previous Question is used to close debate and move straight to a vote on the pending question."
      },
      {
        question: "You think the chair has misapplied a rule. What should you rise to?",
        choices: [
          "A point of personal privilege",
          "A point of order",
          "A motion to amend",
          "A motion to reconsider"
        ],
        correctIndex: 1,
        explanation: "A Point of Order is used to question whether proper procedure is being followed."
      },
      {
        question: "Which of the following is the BEST opening line for a sponsor speech in MSL?",
        choices: [
          "'So yeah, this bill is kind of self-explanatory.'",
          "'Members of the chamber, this bill addresses a gap in Maryland's current policy on‚Ä¶'",
          "'I'm not really sure why I'm sponsoring this, but here we go.'",
          "'I promise this will be quick, so please don't vote it down.'"
        ],
        correctIndex: 1,
        explanation: "Framing the issue clearly and in a Maryland context is the strongest way to start a sponsor speech."
      },
      {
        question: "A delegate wants to change a single line in your bill without rewriting the whole thing. What should they use?",
        choices: [
          "Motion to table",
          "Friendly amendment or amendment from the floor",
          "Motion to adjourn",
          "Appeal from the decision of the chair"
        ],
        correctIndex: 1,
        explanation: "Amendments‚Äîfriendly or from the floor‚Äîare how members change specific language in a bill."
      },
      {
        question: "In committee, which of these behaviors is the MOST helpful to moving business forward?",
        choices: [
          "Repeating the same point in every speech to 'drive it home'",
          "Listening for new information and building on or responding to it",
          "Talking over the chair to speed up debate",
          "Only speaking when you completely agree with the sponsor"
        ],
        correctIndex: 1,
        explanation: "Good committee work builds on what others say, responds to concerns, and helps refine the bill."
      },
      {
        question: "You need a short break to caucus or grab water without ending the meeting. What motion is most appropriate?",
        choices: [
          "Motion to recess",
          "Motion to adjourn",
          "Motion to lay on the table",
          "Motion to postpone indefinitely"
        ],
        correctIndex: 0,
        explanation: "A motion to recess allows a temporary break while keeping the meeting technically in session."
      },
      {
        question: "Why does MSL care so much about using Maryland-specific issues and law?",
        choices: [
          "Because national politics are banned in the chamber",
          "Because it‚Äôs fun to memorize obscure state code sections for no reason",
          "Because MSL simulates the Maryland General Assembly, where state-level issues and statutes matter most",
          "Because it makes writing bills easier than doing campus policy"
        ],
        correctIndex: 2,
        explanation: "MSL is modeled on the Maryland General Assembly, so centering state issues keeps the simulation realistic and useful."
      },
      {
        question: "You‚Äôre not recognized but you shout from the gallery anyway. What‚Äôs the likely outcome?",
        choices: [
          "You automatically win Debater of the Year",
          "The chair ignores you or gavels you out of order",
          "Your comment is added to the bill text",
          "The chamber pauses to debate your interruption"
        ],
        correctIndex: 1,
        explanation: "Speaking without recognition is out of order; good floor work relies on being recognized by the chair."
      }
    ];

    let currentIndex = 0;
    let score = 0;
    let hasAnswered = false;

    const questionEl = document.getElementById("gameQuestion");
    const choicesEl = document.getElementById("gameChoices");
    const feedbackEl = document.getElementById("gameFeedback");
    const statusEl = document.getElementById("gameStatus");
    const scoreEl = document.getElementById("gameScore");
    const progressEl = document.getElementById("gameProgress");
    const nextBtn = document.getElementById("nextBtn");
    const restartBtn = document.getElementById("restartBtn");
    const resultRestartBtn = document.getElementById("resultRestartBtn");
    const resultCard = document.getElementById("gameResult");
    const resultScore = document.getElementById("resultScore");
    const resultMessage = document.getElementById("resultMessage");
    const easterAllCorrect = document.getElementById("easterAllCorrect");
    const easterAllWrong = document.getElementById("easterAllWrong");

    function renderQuestion() {
      const q = questions[currentIndex];
      hasAnswered = false;

      statusEl.textContent = `Question ${currentIndex + 1}`;
      scoreEl.textContent = `Score: ${score}`;
      progressEl.textContent = `${currentIndex + 1} of ${questions.length}`;
      questionEl.textContent = q.question;
      feedbackEl.textContent = "";
      nextBtn.textContent = currentIndex === questions.length - 1 ? "See results ‚Üí" : "Next question ‚Üí";
      nextBtn.disabled = true;
      restartBtn.style.display = "none";

      // Clear old choices
      choicesEl.innerHTML = "";

      q.choices.forEach((choiceText, idx) => {
        const btn = document.createElement("button");
        btn.className = "game-choice-btn";
        btn.textContent = choiceText;
        btn.addEventListener("click", () => handleChoice(idx));
        choicesEl.appendChild(btn);
      });
    }

    function handleChoice(selectedIndex) {
      if (hasAnswered) return;
      hasAnswered = true;

      const q = questions[currentIndex];
      const buttons = Array.from(document.querySelectorAll(".game-choice-btn"));

      buttons.forEach((btn, idx) => {
        btn.disabled = true;
        if (idx === q.correctIndex) {
          btn.classList.add("correct");
        }
        if (idx === selectedIndex && idx !== q.correctIndex) {
          btn.classList.add("incorrect");
        }
      });

      if (selectedIndex === q.correctIndex) {
        score++;
        feedbackEl.innerHTML = "<strong>Correct!</strong> " + q.explanation;
      } else {
        feedbackEl.innerHTML = "<strong>Not quite.</strong> " + q.explanation;
      }

      scoreEl.textContent = `Score: ${score}`;
      nextBtn.disabled = false;
    }

    function showResults() {
      const total = questions.length;
      const percent = Math.round((score / total) * 100);
      resultScore.textContent = `You scored ${score} out of ${total} (${percent}%).`;

      let msg;
      if (percent >= 85) {
        msg = "You‚Äôre chamber-ready. Grab a bill and go bully the mic (respectfully).";
      } else if (percent >= 60) {
        msg = "Solid foundation. A couple more sessions and you‚Äôll be running committee.";
      } else {
        msg = "Good start. Pair this with a workshop and one real session and you‚Äôll level up fast.";
      }

      resultMessage.textContent = msg;

      // Handle secret rewards
      easterAllCorrect.style.display = "none";
      easterAllWrong.style.display = "none";

      if (score === total) {
        easterAllCorrect.style.display = "block";
      } else if (score === 0) {
        easterAllWrong.style.display = "block";
      }

      resultCard.style.display = "block";
      restartBtn.style.display = "inline-flex";
    }

    function nextQuestion() {
      if (currentIndex < questions.length - 1) {
        currentIndex++;
        renderQuestion();
      } else {
        showResults();
      }
    }

    function restartGame() {
      currentIndex = 0;
      score = 0;
      resultCard.style.display = "none";
      renderQuestion();
    }

    nextBtn.addEventListener("click", nextQuestion);
    restartBtn.addEventListener("click", restartGame);
    resultRestartBtn.addEventListener("click", restartGame);

    // Initialize quiz
    renderQuestion();

    // ---------- GAME 2: BILL CONCEPT LAB ----------
    const billLabForm = document.getElementById("billLabForm");
    const policyAreaEl = document.getElementById("policyArea");
    const changeLevelEl = document.getElementById("changeLevel");
    const impactTypeEl = document.getElementById("impactType");
    const issueTextEl = document.getElementById("issueText");
    const billLabOutput = document.getElementById("billLabOutput");
    const billLabMeta = document.getElementById("billLabMeta");
    const billLabTitle = document.getElementById("billLabTitle");
    const billLabSummary = document.getElementById("billLabSummary");

    billLabForm.addEventListener("submit", function (e) {
      e.preventDefault();

      const area = policyAreaEl.value;
      const change = changeLevelEl.value;
      const impact = impactTypeEl.value;
      const issueRaw = issueTextEl.value.trim();

      if (!area || !change || !impact) {
        return;
      }

      const issue = issueRaw || "a priority identified by SMCM delegates and Maryland students";

      // Simple title generator
      const title = `An Act Concerning ${capitalizeFirst(area)} and ${shortenIssue(issue)}`;

      const meta = `Draft concept ‚Ä¢ ${capitalizeFirst(area)} ‚Ä¢ ${change}`;
      const summary = (
        "This bill would address " + issue +
        " by pursuing " + change +
        " in the area of " + area +
        ", using a framework centered on " + impact +
        ".\n\n" +
        "Key pieces to develop:\n" +
        "‚Ä¢ A clear findings section explaining why this issue matters in Maryland.\n" +
        "‚Ä¢ Definitions for any technical terms or agencies mentioned.\n" +
        "‚Ä¢ Specific sections describing what the state, local governments, or partners must do.\n" +
        "‚Ä¢ An effective date and, if needed, a sunset or reporting requirement."
      );

      billLabMeta.textContent = meta;
      billLabTitle.textContent = title;
      billLabSummary.textContent = summary;
      billLabOutput.style.display = "block";
    });

    function capitalizeFirst(text) {
      if (!text) return "";
      return text.charAt(0).toUpperCase() + text.slice(1);
    }

    function shortenIssue(issue) {
      // Just make sure the phrase after "and" isn't absurdly long
      const max = 60;
      if (issue.length <= max) return issue;
      return issue.slice(0, max).trim() + "‚Ä¶";
    }
  </script>
</body>
</html>
